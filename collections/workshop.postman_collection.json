{
	"info": {
		"_postman_id": "6e079781-99d0-40c8-88b6-989c152367d6",
		"name": "Workshop",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get Location search by latt and long",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = pm.response.json();\r",
							"\r",
							"pm.test(\"Status code is OK\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Response with an array with 10 objects\", function () {\r",
							"    pm.expect(jsonData.length).to.be.eq(10);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is less than a second\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"//pm.variables.set(\"latt\", 36.96);\r",
							"//pm.variables.set(\"long\", -122.02);\r",
							"\r",
							"//pm.variables.set(\"latt\", 1);\r",
							"//pm.variables.set(\"long\", 2);\r",
							"\r",
							"pm.variables.set(\"latt\", 4.707);\r",
							"pm.variables.set(\"long\", -74.1072);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "x-mock-response-name",
						"value": "Unauthorized",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{metaweather_base_url}}/api/location/search/?lattlong={{latt}},{{long}}",
					"host": [
						"{{metaweather_base_url}}"
					],
					"path": [
						"api",
						"location",
						"search",
						""
					],
					"query": [
						{
							"key": "lattlong",
							"value": "{{latt}},{{long}}"
						}
					]
				}
			},
			"response": [
				{
					"name": "One response - ok",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{metaweather_base_url}}/api/location/search/?lattlong=4.707,-74.1072",
							"host": [
								"{{metaweather_base_url}}"
							],
							"path": [
								"api",
								"location",
								"search",
								""
							],
							"query": [
								{
									"key": "lattlong",
									"value": "4.707,-74.1072"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json",
							"description": "",
							"type": "text"
						}
					],
					"cookie": [],
					"body": "[\n    {\n        \"distance\": 5747,\n        \"title\": \"Bogot치\",\n        \"location_type\": \"City\",\n        \"woeid\": 368148,\n        \"latt_long\": \"4.707, -74.1072\"\n    }\n]"
				},
				{
					"name": "Unauthorized",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{metaweather_base_url}}/api/location/search/?lattlong=4.707,-74.1072",
							"host": [
								"{{metaweather_base_url}}"
							],
							"path": [
								"api",
								"location",
								"search",
								""
							],
							"query": [
								{
									"key": "lattlong",
									"value": "4.707,-74.1072"
								}
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json",
							"description": "",
							"type": "text"
						}
					],
					"cookie": [],
					"body": "{\n    \"statusCode\": 401,\n    \"error\": \"invalid_token\",\n    \"message\": \"Invalid token: access token is invalid\"\n}"
				}
			]
		},
		{
			"name": "Get Location search by query",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "x-mock-response-name",
						"value": "not found",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{metaweather_base_url}}/api/location/search/?query=Bogot치",
					"host": [
						"{{metaweather_base_url}}"
					],
					"path": [
						"api",
						"location",
						"search",
						""
					],
					"query": [
						{
							"key": "query",
							"value": "Bogot치"
						}
					]
				}
			},
			"response": [
				{
					"name": "Search Cali location - ok",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{metaweather_base_url}}/api/location/search/",
							"host": [
								"{{metaweather_base_url}}"
							],
							"path": [
								"api",
								"location",
								"search",
								""
							],
							"query": [
								{
									"key": "query",
									"value": "Cali",
									"disabled": true
								}
							]
						}
					},
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json",
							"description": "",
							"type": "text"
						}
					],
					"cookie": [],
					"body": "[\n    {\n        \"title\": \"Cali\",\n        \"location_type\": \"City\",\n        \"woeid\": 368148,\n        \"latt_long\": \"3.42158,-76.52050\"\n    }\n]"
				},
				{
					"name": "not found",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{metaweather_base_url}}/api/location/search/",
							"host": [
								"{{metaweather_base_url}}"
							],
							"path": [
								"api",
								"location",
								"search",
								""
							],
							"query": [
								{
									"key": "query",
									"value": "Bogot치",
									"disabled": true
								}
							]
						}
					},
					"status": "Not Found",
					"code": 404,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json",
							"description": "",
							"type": "text"
						}
					],
					"cookie": [],
					"body": "{\n    \"statusCode\": 404,\n    \"error\": \"location_not_found\",\n    \"message\": \"Not Found: location is invalid\"\n}"
				}
			]
		},
		{
			"name": "Get Location",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"pm.variables.set(\"location\", 44418);"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = pm.response.json();\r",
							"\r",
							"pm.test(\"Status code is OK\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is less than a second\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r",
							"\r",
							"pm.test(\"It's England location\", function () {\r",
							"    pm.expect(jsonData.parent.title).to.be.eq(\"England\");\r",
							"});\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{metaweather_base_url}}/api/location/{{location}}/",
					"host": [
						"{{metaweather_base_url}}"
					],
					"path": [
						"api",
						"location",
						"{{location}}",
						""
					]
				}
			},
			"response": [
				{
					"name": "Get Location",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{metaweather_base_url}}/api/location/44418/",
							"host": [
								"{{metaweather_base_url}}"
							],
							"path": [
								"api",
								"location",
								"44418",
								""
							]
						}
					},
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json",
							"description": "",
							"type": "text"
						}
					],
					"cookie": [],
					"body": "{\n    \"consolidated_weather\": [\n        {\n            \"id\": 5175972446863360,\n            \"weather_state_name\": \"Light Rain\",\n            \"weather_state_abbr\": \"lr\",\n            \"wind_direction_compass\": \"SSW\",\n            \"created\": \"2021-09-09T15:58:00.867759Z\",\n            \"applicable_date\": \"2021-09-09\",\n            \"min_temp\": 16.990000000000002,\n            \"max_temp\": 23.185000000000002,\n            \"the_temp\": 22.155,\n            \"wind_speed\": 5.745661842299636,\n            \"wind_direction\": 204.49987302531065,\n            \"air_pressure\": 1008.5,\n            \"humidity\": 77,\n            \"visibility\": 7.5543202696253875,\n            \"predictability\": 75\n        },\n        {\n            \"id\": 5439549959307264,\n            \"weather_state_name\": \"Heavy Rain\",\n            \"weather_state_abbr\": \"hr\",\n            \"wind_direction_compass\": \"WSW\",\n            \"created\": \"2021-09-09T15:58:01.778374Z\",\n            \"applicable_date\": \"2021-09-10\",\n            \"min_temp\": 17.085,\n            \"max_temp\": 22.630000000000003,\n            \"the_temp\": 22.1,\n            \"wind_speed\": 5.678220086168775,\n            \"wind_direction\": 239.51115633355658,\n            \"air_pressure\": 1010,\n            \"humidity\": 73,\n            \"visibility\": 8.158603754076195,\n            \"predictability\": 77\n        },\n        {\n            \"id\": 6389210178125824,\n            \"weather_state_name\": \"Heavy Cloud\",\n            \"weather_state_abbr\": \"hc\",\n            \"wind_direction_compass\": \"WSW\",\n            \"created\": \"2021-09-09T15:58:01.267809Z\",\n            \"applicable_date\": \"2021-09-11\",\n            \"min_temp\": 15.455,\n            \"max_temp\": 23.17,\n            \"the_temp\": 22.375,\n            \"wind_speed\": 6.345206872459504,\n            \"wind_direction\": 255.1626341931738,\n            \"air_pressure\": 1015.5,\n            \"humidity\": 59,\n            \"visibility\": 13.497735723375486,\n            \"predictability\": 71\n        },\n        {\n            \"id\": 4722880643334144,\n            \"weather_state_name\": \"Heavy Cloud\",\n            \"weather_state_abbr\": \"hc\",\n            \"wind_direction_compass\": \"NNW\",\n            \"created\": \"2021-09-09T15:58:00.976568Z\",\n            \"applicable_date\": \"2021-09-12\",\n            \"min_temp\": 14.26,\n            \"max_temp\": 22.884999999999998,\n            \"the_temp\": 21.355,\n            \"wind_speed\": 3.0897508308385695,\n            \"wind_direction\": 326.8499662072933,\n            \"air_pressure\": 1018,\n            \"humidity\": 61,\n            \"visibility\": 14.483541119860018,\n            \"predictability\": 71\n        },\n        {\n            \"id\": 5411731389022208,\n            \"weather_state_name\": \"Showers\",\n            \"weather_state_abbr\": \"s\",\n            \"wind_direction_compass\": \"E\",\n            \"created\": \"2021-09-09T15:58:01.366774Z\",\n            \"applicable_date\": \"2021-09-13\",\n            \"min_temp\": 12.73,\n            \"max_temp\": 21.2,\n            \"the_temp\": 20.535,\n            \"wind_speed\": 5.988366358596463,\n            \"wind_direction\": 92.99572330791149,\n            \"air_pressure\": 1015.5,\n            \"humidity\": 62,\n            \"visibility\": 14.106368806171956,\n            \"predictability\": 73\n        },\n        {\n            \"id\": 6032034842542080,\n            \"weather_state_name\": \"Heavy Cloud\",\n            \"weather_state_abbr\": \"hc\",\n            \"wind_direction_compass\": \"ESE\",\n            \"created\": \"2021-09-09T15:58:04.850073Z\",\n            \"applicable_date\": \"2021-09-14\",\n            \"min_temp\": 14.54,\n            \"max_temp\": 24.485,\n            \"the_temp\": 24.6,\n            \"wind_speed\": 3.6817726477372146,\n            \"wind_direction\": 114,\n            \"air_pressure\": 1008,\n            \"humidity\": 63,\n            \"visibility\": 9.999726596675416,\n            \"predictability\": 71\n        }\n    ],\n    \"time\": \"2021-09-09T17:35:02.686385+01:00\",\n    \"sun_rise\": \"2021-09-09T06:26:00.994875+01:00\",\n    \"sun_set\": \"2021-09-09T19:28:25.757123+01:00\",\n    \"timezone_name\": \"LMT\",\n    \"parent\": {\n        \"title\": \"England\",\n        \"location_type\": \"Region / State / Province\",\n        \"woeid\": 24554868,\n        \"latt_long\": \"52.883560,-1.974060\"\n    },\n    \"sources\": [\n        {\n            \"title\": \"BBC\",\n            \"slug\": \"bbc\",\n            \"url\": \"http://www.bbc.co.uk/weather/\",\n            \"crawl_rate\": 360\n        },\n        {\n            \"title\": \"Forecast.io\",\n            \"slug\": \"forecast-io\",\n            \"url\": \"http://forecast.io/\",\n            \"crawl_rate\": 480\n        },\n        {\n            \"title\": \"HAMweather\",\n            \"slug\": \"hamweather\",\n            \"url\": \"http://www.hamweather.com/\",\n            \"crawl_rate\": 360\n        },\n        {\n            \"title\": \"Met Office\",\n            \"slug\": \"met-office\",\n            \"url\": \"http://www.metoffice.gov.uk/\",\n            \"crawl_rate\": 180\n        },\n        {\n            \"title\": \"OpenWeatherMap\",\n            \"slug\": \"openweathermap\",\n            \"url\": \"http://openweathermap.org/\",\n            \"crawl_rate\": 360\n        },\n        {\n            \"title\": \"Weather Underground\",\n            \"slug\": \"wunderground\",\n            \"url\": \"https://www.wunderground.com/?apiref=fc30dc3cd224e19b\",\n            \"crawl_rate\": 720\n        },\n        {\n            \"title\": \"World Weather Online\",\n            \"slug\": \"world-weather-online\",\n            \"url\": \"http://www.worldweatheronline.com/\",\n            \"crawl_rate\": 360\n        }\n    ],\n    \"title\": \"London\",\n    \"location_type\": \"City\",\n    \"woeid\": 44418,\n    \"latt_long\": \"51.506321,-0.12714\",\n    \"timezone\": \"Europe/London\"\n}"
				}
			]
		}
	]
}